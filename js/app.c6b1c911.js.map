{"version":3,"file":"js/app.c6b1c911.js","mappings":"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","sources":["webpack://graph_builder/./src/utils/tools.js","webpack://graph_builder/./src/utils/data.js","webpack://graph_builder/./src/utils/chart.js","webpack://graph_builder/./src/utils/plotting/scatter.js","webpack://graph_builder/./src/utils/plotting/histogram.js","webpack://graph_builder/./src/App.vue","webpack://graph_builder/./src/App.vue?7ccd","webpack://graph_builder/./src/main.ts","webpack://graph_builder/webpack/bootstrap","webpack://graph_builder/webpack/runtime/chunk loaded","webpack://graph_builder/webpack/runtime/compat get default export","webpack://graph_builder/webpack/runtime/define property getters","webpack://graph_builder/webpack/runtime/global","webpack://graph_builder/webpack/runtime/hasOwnProperty shorthand","webpack://graph_builder/webpack/runtime/jsonp chunk loading","webpack://graph_builder/webpack/startup"],"sourcesContent":["import * as d3 from 'd3'\n\nexport function getMaxOverlapFromMap(offsetMap) {\n  let maxCount = 0\n  Object.values(offsetMap).forEach(yGroups => {\n    Object.values(yGroups).forEach(group => {\n      maxCount = Math.max(maxCount, group.length)\n    })\n  })\n  return maxCount\n}\n\nexport function calculateDomain(extent, padding = 0.05) {\n  const range = (extent[1] - extent[0]) * padding\n  return [extent[0] - range, extent[1] + range]\n}\n\nexport function calculateMaxBins(allXFields, data, innerW) {\n  // 计算所有变量的直方图 bins 的最大 bin count 的最大值\n  let yMax = -1\n\n  allXFields.forEach(field => {\n    const values = data.value.map(d => +d[field])\n\n    const xDomain = calculateDomain(d3.extent(values))\n    const xScale = d3.scaleLinear().domain(xDomain).range([0, innerW])\n\n    const thresholds = xScale.ticks(12)\n\n    const binGenerator = d3.bin().domain(d3.extent(values)).thresholds(thresholds)\n\n    const bins = binGenerator(values)\n    const maxBinCount = d3.max(bins, d => d.length)\n\n    if (maxBinCount > yMax) {\n      yMax = maxBinCount\n    }\n  })\n\n  return yMax * 1.05\n}\n","import * as d3 from 'd3'\nimport { calculateDomain, getMaxOverlapFromMap } from './tools'\n\n// 判断是否为离散型\nexport const isDiscrete = arr => {\n  const vals = arr.filter(v => v != null && v !== '')\n  return !(vals.length > 0 && vals.every(v => !isNaN(+v)))\n}\n\nexport class DataFrame {\n  constructor(data, fields, radius, innerW, innerH) {\n    ;[this.xField, this.yField, this.cField, this.sField] = fields\n    this.radius = radius\n    this.originData = data\n    this.width = innerW\n    this.height = innerH\n    this.plotData = this.preprocessData()\n  }\n\n  preprocessData() {\n    // map 取出某一列\n    const xRaw = this.originData.map(d => d[this.xField])\n    const yRaw = this.originData.map(d => d[this.yField])\n    const cRaw = this.originData.map(d => d[this.cField])\n    const sRaw = this.originData.map(d => d[this.sField])\n\n    this.xIsDis = isDiscrete(xRaw)\n    this.yIsDis = isDiscrete(yRaw)\n    this.cIsDis = isDiscrete(cRaw)\n    this.sIsDis = isDiscrete(sRaw)\n\n    if (this.xIsDis) {\n      // 先把 null/\"\" 也映射成一个 key，再去重\n      this.xCategories = Array.from(\n        new Set(xRaw.map(v => (v == null || v === '' ? '' : String(v))))\n      )\n    }\n    if (this.yIsDis) {\n      this.yCategories = Array.from(\n        new Set(yRaw.map(v => (v == null || v === '' ? '' : String(v))))\n      )\n    }\n\n    let colorScale\n    if (this.cField) {\n      if (this.cIsDis) {\n        // 分类：用离散颜色\n        const categories = Array.from(new Set(cRaw))\n        colorScale = d3.scaleOrdinal(d3.schemeTableau10).domain(categories)\n        this.cCategories = categories\n      } else {\n        // 数值：用连续色带\n        const extent = d3.extent(cRaw, v => +v)\n        colorScale = d3.scaleSequential(d3.interpolateRdBu).domain(extent)\n      }\n    } else {\n      // 没有 cField 就是黑色\n      colorScale = d3.scaleOrdinal().range(['black'])\n    }\n    this.colorScale = colorScale\n\n    let sizeScale\n    if (this.sField && !this.sIsDis) {\n      const extent = d3.extent(sRaw, v => +v)\n      sizeScale = d3\n        .scaleSqrt()\n        .domain(extent)\n        .range([this.radius / 2, this.radius * 2])\n    } else {\n      sizeScale = d3.scaleOrdinal().range([this.radius])\n    }\n\n    // 用于给离散值／空值编码：第一次碰到某个 key 就给它一个序号\n    const makeEncoder = () => {\n      const map = new Map()\n      return v => {\n        const key = v == null || v === '' ? '__missing__' : String(v)\n        if (!map.has(key)) map.set(key, map.size)\n        // map.size 从 1 开始，但取到 index 0 时 size=1 -> 我们要用 0.5；index 1 -> 1.5…\n        return map.get(key) + 0.5\n      }\n    }\n\n    const encodeX = makeEncoder()\n    const encodeY = makeEncoder()\n\n    // 生成绘图数组\n    const plotData = this.originData.map((d, i) => ({\n      _id: i,\n      _x: !this.xIsDis ? +d[this.xField] : encodeX(d[this.xField]),\n      _y: !this.yIsDis ? +d[this.yField] : encodeY(d[this.yField]),\n      _color: colorScale(d[this.cField]),\n      _size: sizeScale(d[this.sField]),\n      x: d[this.xField],\n      y: d[this.yField],\n      color: d[this.cField],\n      size: d[this.sField],\n    }))\n\n    return plotData\n  }\n\n  getRange(axis) {\n    if (axis === 'x') {\n      const xVals = this.plotData.map(d => d._x)\n      if (this.xIsDis) {\n        return [0, d3.max(xVals) + 0.5]\n      } else {\n        return calculateDomain(d3.extent(xVals))\n      }\n    } else {\n      const yVals = this.plotData.map(d => d._y)\n      if (this.yIsDis) {\n        return [0, d3.max(yVals) + 0.5]\n      } else {\n        return calculateDomain(d3.extent(yVals))\n      }\n    }\n  }\n\n  /*\n    如果 X 离散、Y 连续，就对同一 (._x, ._y) 组内按 index 分配 offset\n    反之同理\n  */\n  addOffset(data) {\n    if (this.xIsDis && !this.yIsDis) {\n      const offsetMap = {}\n      /* \n        把同一 x 对应的同一 y 的数据点聚集在一起\n        形成 { xValue: { yValue: [d1, d2, …], … }, … } 的嵌套结构\n      */\n      data.forEach(d => {\n        offsetMap[d._x] = offsetMap[d._x] || {}\n        offsetMap[d._x][d._y] = offsetMap[d._x][d._y] || []\n        offsetMap[d._x][d._y].push(d)\n      })\n\n      const maxCount = getMaxOverlapFromMap(offsetMap)\n      const maxCircleInterval = ((this.width / this.xCategories.length) * 0.8) / maxCount / 2\n      const newRadius = Math.min(this.radius, maxCircleInterval)\n\n      Object.values(offsetMap).forEach(yGroups =>\n        Object.values(yGroups).forEach(group =>\n          /*\n            group 是所有同 x 同 y 组成的点的数组\n            group = [\n              {...},\n              {...},\n              {...}\n            ]\n            接下来遍历 group\n          */\n          group.forEach((d, i) => {\n            d._offset =\n              // 若奇数个，要以 0 为中心\n              group.length % 2 !== 0\n                ? (i - Math.floor(group.length / 2)) * newRadius * 2\n                : newRadius - newRadius * group.length + 2 * newRadius * i\n          })\n        )\n      )\n    }\n\n    if (this.yIsDis && !this.xIsDis) {\n      const offsetMap = {}\n      data.forEach(d => {\n        offsetMap[d._y] = offsetMap[d._y] || {}\n        offsetMap[d._y][d._x] = offsetMap[d._y][d._x] || []\n        offsetMap[d._y][d._x].push(d)\n      })\n\n      const maxCount = getMaxOverlapFromMap(offsetMap)\n      const maxCircleInterval = ((this.height / this.yCategories.length) * 0.8) / maxCount / 2\n      const newRadius = Math.min(this.radius, maxCircleInterval)\n\n      Object.values(offsetMap).forEach(xGroups =>\n        Object.values(xGroups).forEach(group =>\n          group.forEach((d, i) => {\n            d._offset =\n              group.length % 2 !== 0\n                ? (i - Math.floor(group.length / 2)) * newRadius * 2\n                : newRadius - newRadius * group.length + 2 * newRadius * i\n          })\n        )\n      )\n    }\n\n    return data\n  }\n}\n\nexport function loadDataTable(rawData) {\n  const table = d3.select('#data-table')\n  const keys = Object.keys(rawData[0])\n\n  // 1. 构造列名数组：在 keys 前面加上 “行”\n  const columns = ['', ...keys]\n\n  // 2. 渲染表头\n  table\n    .append('thead')\n    .append('tr')\n    .selectAll('th')\n    .data(columns)\n    .join('th')\n    .text(d => d)\n\n  // 3. 渲染表体\n  const tbody = table.append('tbody')\n\n  const rows = tbody\n    .selectAll('tr')\n    .data(rawData)\n    .join('tr')\n    .attr('_id', (d, i) => i) // 如需保留原来的 id\n\n  // 4. 每一行的单元格：首项是行号 i+1，后面依次是各字段的值\n  rows\n    .selectAll('td')\n    .data((d, i) => [\n      i + 1, // 行号\n      ...keys.map(k => d[k]), // 原有字段\n    ])\n    .join('td')\n    .text(d => d)\n}\n","// src/utils/chart.js\n/* \n TODO 拖出变量\n TODO 拖拽调整大小\n */\nimport * as d3 from 'd3'\nimport d3Tip from 'd3-tip'\nimport { DataFrame } from './data'\n\nexport const brushDispatcher = d3.dispatch('brush')\n\nexport function initGraphBuilder(container, innerW, innerH, outerW, outerH, margin) {\n  const gbSVG = d3.select(container)\n\n  // 白色背景\n  gbSVG\n    .append('rect')\n    .attr('x', margin.left)\n    .attr('y', margin.top)\n    .attr('width', innerW)\n    .attr('height', innerH)\n    .attr('fill', 'white')\n\n  // 拖拽文字提示\n  gbSVG\n    .append('text')\n    .attr('class', 'drag-hint')\n    .attr('x', (2 * margin.left + innerW) / 2)\n    .attr('y', (2 * margin.top + innerH) / 2)\n    .attr('text-anchor', 'middle')\n    .text('Drag variables into drop zones')\n\n  gbSVG.attr('viewBox', [0, 0, outerW, outerH])\n\n  /* \n    SVG 元素本质上是无限大的\n    viewBox 设置拍下的照片的范围\n    viewPort 是展示照片的相框\n    SVG 的 width 和 height 其实是设置视窗 viewPort 的 \n    */\n\n  // 绘制直方图的底纹\n  const stripedens = 7\n  const pattern = gbSVG\n    .append('defs')\n    .append('pattern')\n    .attr('id', 'hist-stripes')\n    .attr('patternUnits', 'userSpaceOnUse')\n    .attr('width', innerW)\n    .attr('height', innerH)\n\n  // 背景\n  pattern.append('rect').attr('width', innerW).attr('height', innerH)\n\n  // 斜线：左上到右下\n  for (let i = -innerH; i < innerH; i += stripedens) {\n    pattern\n      .append('line')\n      .attr('x1', 0)\n      .attr('y1', i)\n      .attr('x2', innerW)\n      .attr('y2', innerH + i)\n  }\n}\n\nexport class PlotLauncher {\n  constructor(container, innerW, innerH, margin, chartID, xAxisVis = false, yAxisVis = false) {\n    this.margin = margin\n    const width = innerW + margin.left + margin.right\n    const height = innerH + margin.top + margin.bottom\n    this.innerW = innerW\n    this.innerH = innerH\n    this.chartID = chartID\n    this.xAxisVis = xAxisVis\n    this.yAxisVis = yAxisVis\n\n    this.svg = d3\n      .select(container)\n      .append('svg')\n      .attr('class', `svg-${chartID}`)\n      .attr('width', width)\n      .attr('height', height)\n      .attr('viewBox', [0, 0, width, height])\n\n    this.plotContent = this.svg\n      .append('g')\n      .attr('class', 'plot-content')\n      .attr('transform', `translate(${margin.left},${margin.top})`)\n\n    this.plotContent\n      .append('defs')\n      .append('clipPath')\n      .attr('id', `plot-clip-${chartID}`)\n      .append('rect')\n      .attr('x', 0)\n      .attr('y', 0)\n      .attr('width', this.innerW)\n      .attr('height', this.innerH)\n\n    this.plotContent\n      .append('line')\n      .attr('class', 'border-line')\n      .attr('x1', 0)\n      .attr('y1', 0)\n      .attr('x2', this.innerW)\n      .attr('y2', 0)\n\n    this.plotContent\n      .append('line')\n      .attr('class', 'border-line')\n      .attr('x1', this.innerW)\n      .attr('y1', 0)\n      .attr('x2', this.innerW)\n      .attr('y2', this.innerH)\n\n    this.yScale = null\n    this.xScale = null\n  }\n}\n\nfunction getTips(fields) {\n  // d3.selectAll('.d3-tip').remove()\n  const [xField, yField, cField, sField] = fields\n  return d3Tip()\n    .attr('class', 'd3-tip')\n    .offset([-5, 0])\n    .html(function (event, d) {\n      let hoverToolTips = '<table>'\n      hoverToolTips += `<tr><td class=\"name\">行</td><td>: ${d._id + 1}</td></tr>`\n      if (xField) hoverToolTips += `<tr><td class=\"name\">${xField}</td><td>: ${d.x}</td></tr>`\n      if (yField) hoverToolTips += `<tr><td class=\"name\">${yField}</td><td>: ${d.y}</td></tr>`\n      if (cField) hoverToolTips += `<tr><td class=\"name\">${cField}</td><td>: ${d.color}</td></tr>`\n      if (sField) hoverToolTips += `<tr><td class=\"name\">${sField}</td><td>: ${d.size}</td></tr>`\n      hoverToolTips += '</table>'\n      return hoverToolTips\n    })\n}\n","import * as d3 from 'd3'\nimport d3Tip from 'd3-tip'\nimport { PlotLauncher, brushDispatcher } from '../chart'\nimport { DataFrame } from '../data'\n\nexport class ScatterPlot extends PlotLauncher {\n  constructor(container, innerW, innerH, margin, chartID, xAxisVis = false, yAxisVis = false) {\n    super(container, innerW, innerH, margin, chartID, xAxisVis, yAxisVis)\n  }\n\n  draw(data, fields, scales) {\n    const [xField, yField, cField, sField] = fields\n    const innerW = this.innerW\n    const innerH = this.innerH\n    const margin = this.margin\n\n    // 悬停标签\n    const tip = getTips(fields)\n\n    let g = this.plotContent\n\n    // 数据预处理\n    const DF = new DataFrame(data, fields, 3, innerW, innerH)\n    let plotData = DF.plotData\n    plotData = DF.addOffset(plotData)\n\n    // 更新标题\n    const supTitle = xField && yField ? `${yField} vs. ${xField}` : xField || yField || ''\n    d3.select('.sup-title').text(supTitle)\n\n    // 比例尺\n    const xScale = d3.scaleLinear().domain(DF.getRange('x')).nice().range([0, innerW])\n    const yScale = d3.scaleLinear().domain(DF.getRange('y')).nice().range([innerH, 0])\n\n    // deprecated 本来是留给缩放用的\n    let newXScale = xScale\n    let newYScale = yScale\n\n    // 坐标轴（第一次创建后复用）\n    let xAxisG = g.select('g.x.axis')\n    xAxisG = g.append('g').attr('class', 'x axis').attr('transform', `translate(0,${innerH})`)\n\n    let yAxisG = g.select('g.y.axis')\n    yAxisG = g.append('g').attr('class', 'y axis')\n\n    if (this.xAxisVis) {\n      const xTicks = xScale.ticks().slice(1, -1)\n      let xAxis = d3.axisBottom(xScale).tickValues(xTicks)\n      if (DF.xIsDis)\n        xAxis\n          .tickValues(DF.xCategories.map((_, i) => i + 0.5))\n          .tickFormat((_, i) => DF.xCategories[i])\n      xAxisG.call(xAxis)\n      // 轴标签\n      let xlabel = xAxisG.select('text.axis-label')\n      xlabel = xAxisG\n        .append('text')\n        .attr('class', 'axis-label x-axis-label')\n        .attr('x', innerW / 2)\n        .attr('y', (margin.bottom * 2) / 3)\n        .attr('text-anchor', 'middle')\n        .attr('font-size', 16)\n        .attr('fill', '#333')\n      xlabel.text(xField)\n    }\n    if (this.yAxisVis) {\n      const yTicks = yScale.ticks().slice(1, -1)\n      let yAxis = d3.axisLeft(yScale).tickValues(yTicks)\n      if (DF.yIsDis)\n        yAxis\n          .tickValues(DF.yCategories.map((_, i) => i + 0.5))\n          .tickFormat((_, i) => DF.yCategories[i])\n      yAxisG.call(yAxis)\n      let ylabel = yAxisG.select('text.axis-label')\n      ylabel = yAxisG\n        .append('text')\n        .attr('class', 'axis-label y-axis-label')\n        .attr('transform', 'rotate(-90)')\n        .attr('x', -innerH / 2)\n        .attr('y', (-margin.left * 2) / 3)\n        .attr('text-anchor', 'middle')\n        .attr('font-size', 16)\n        .attr('fill', '#333')\n      ylabel.text(yField)\n    }\n\n    const rows = d3.selectAll('.table-div #data-table tbody tr')\n\n    const externalBrush = selectedIds => {\n      if (selectedIds.length === 0) {\n        circles.classed('selected', false)\n        circles.classed('unselected', false)\n\n        rows.classed('selected', false)\n      } else {\n        circles\n          .classed('selected', d => selectedIds.includes(d._id))\n          .classed('unselected', d => !selectedIds.includes(d._id))\n\n        rows.classed('selected', (d, i) => selectedIds.includes(i))\n      }\n    }\n\n    brushDispatcher.on('brush.' + this.chartID, externalBrush)\n\n    const brushBehavior = d3\n      .brush()\n      .extent([\n        [0, 0],\n        [innerW, innerH],\n      ])\n      .on('brush', ({ selection }) => {\n        if (!selection) {\n          gCircles.selectAll('circle.point').classed('selected', false)\n          return\n        }\n        const [[x0, y0], [x1, y1]] = selection\n\n        // 找出符合条件的点的 ._id\n        const selectedIds = []\n        circles.each(d => {\n          const cx = newXScale(d._x) + (DF.xIsDis && !DF.yIsDis ? d._offset : 0)\n          const cy = newYScale(d._y) + (DF.yIsDis && !DF.xIsDis ? d._offset : 0)\n          if (x0 <= cx && cx <= x1 && y0 <= cy && cy <= y1) {\n            selectedIds.push(d._id)\n          }\n        })\n\n        brushDispatcher.call('brush', null, selectedIds, this.chartID)\n      })\n      .on('end', event => {\n        if (event.selection !== null) {\n          // 去掉 brush 的框，并把 selection 设置为 null\n          brushG.call(d3.brush().move, null)\n        }\n      })\n\n    // 2. 添加 brush 容器\n    const brushG = g.append('g').attr('class', 'brush').call(brushBehavior)\n    brushG.lower()\n\n    let gCircles = g.select('g.circles')\n\n    // 初始化才执行\n    if (gCircles.empty()) {\n      gCircles = g.append('g').attr('class', 'circles').attr('clip-path', 'url(#plot-clip)')\n    }\n\n    const circles = gCircles\n      .selectAll('circle.point')\n      .data(plotData)\n      .join(\n        // Enter\n        enter =>\n          enter\n            .append('circle')\n            .attr('class', 'point')\n            .attr('cx', d => xScale(d._x) + (DF.xIsDis && !DF.yIsDis ? d._offset : 0))\n            .attr('cy', d => yScale(d._y) + (DF.yIsDis && !DF.xIsDis ? d._offset : 0))\n            .attr('r', 0)\n            .attr('fill', d => d._color)\n            // .transition(t)\n            .attr('r', d => d._size),\n        // Update\n        update =>\n          update\n            .attr('cx', d => xScale(d._x) + (DF.xIsDis && !DF.yIsDis ? d._offset : 0))\n            .attr('cy', d => yScale(d._y) + (DF.yIsDis && !DF.xIsDis ? d._offset : 0))\n            .attr('r', d => d._size)\n            .attr('fill', d => d._color)\n      )\n      .on('mouseover', tip.show)\n      .on('mouseout', tip.hide)\n\n    this.svg.call(tip)\n  }\n}\n\nfunction getTips(fields) {\n  // d3.selectAll('.d3-tip').remove()\n  const [xField, yField, cField, sField] = fields\n  return d3Tip()\n    .attr('class', 'd3-tip')\n    .offset([-5, 0])\n    .html(function (event, d) {\n      let hoverToolTips = '<table>'\n      hoverToolTips += `<tr><td class=\"name\">行</td><td>: ${d._id + 1}</td></tr>`\n      if (xField) hoverToolTips += `<tr><td class=\"name\">${xField}</td><td>: ${d.x}</td></tr>`\n      if (yField) hoverToolTips += `<tr><td class=\"name\">${yField}</td><td>: ${d.y}</td></tr>`\n      if (cField) hoverToolTips += `<tr><td class=\"name\">${cField}</td><td>: ${d.color}</td></tr>`\n      if (sField) hoverToolTips += `<tr><td class=\"name\">${sField}</td><td>: ${d.size}</td></tr>`\n      hoverToolTips += '</table>'\n      return hoverToolTips\n    })\n}\n","import * as d3 from 'd3'\nimport d3Tip from 'd3-tip'\nimport { PlotLauncher, brushDispatcher } from '../chart'\nimport { calculateDomain } from '../tools'\nimport throttle from 'lodash.throttle'\n\nexport class HistogramPlot extends PlotLauncher {\n  constructor(container, innerW, innerH, margin, chartID, xAxisVis = false, yAxisVis = false) {\n    super(container, innerW, innerH, margin, chartID, xAxisVis, yAxisVis)\n  }\n\n  draw(data, fields, yMax) {\n    const [xField] = fields\n    const innerW = this.innerW\n    const innerH = this.innerH\n    const margin = this.margin\n\n    const histTitle = xField ? xField : ''\n    d3.select('.sup-title').text(histTitle)\n\n    // 创建或清空容器\n    let g = this.plotContent\n\n    // 数据提取\n    const df = data.map((d, i) => ({ _id: i, _x: +d[xField] }))\n    const xValues = data.map(d => +d[xField])\n\n    const xDomain = calculateDomain(d3.extent(xValues))\n    const xScale = d3.scaleLinear().domain(xDomain).range([0, innerW])\n\n    // 分箱规则，ticks 函数会按照图像易读性调整分箱数量\n    const thresholds = xScale.ticks(12)\n\n    // 生成 bins\n    const binGen = d3\n      .bin()\n      .value(d => +d[xField])\n      .domain(xScale.domain())\n      .thresholds(thresholds)\n\n    const bins = binGen(data)\n\n    // Y 轴比例尺\n    const yScale = d3.scaleLinear().domain([0, yMax]).nice().range([innerH, 0])\n\n    // 绘制坐标轴\n    if (this.xAxisVis) {\n      const xAxis = d3.axisBottom(xScale)\n      g.append('g')\n        .attr('class', 'x axis')\n        .attr('transform', `translate(0,${innerH})`)\n        .call(xAxis)\n        .append('text')\n        .attr('class', 'axis-label x-axis-label')\n        .attr('x', innerW / 2)\n        .attr('y', (margin.bottom * 2) / 3)\n        .attr('text-anchor', 'middle')\n        .attr('font-size', 16)\n        .attr('fill', '#333')\n        .text(xField)\n    }\n\n    if (this.yAxisVis) {\n      const yTicks = yScale.ticks().slice(1, -1)\n      const yAxis = d3.axisLeft(yScale).tickValues(yTicks)\n      g.append('g')\n        .attr('class', 'y axis')\n        .call(yAxis)\n        .append('text')\n        .attr('class', 'axis-label y-axis-label')\n        .attr('transform', 'rotate(-90)')\n        .attr('x', -innerH / 2)\n        .attr('y', (-margin.left * 2) / 3)\n        .attr('text-anchor', 'middle')\n        .attr('font-size', 16)\n        .attr('fill', '#333')\n        .text('Count')\n    }\n    // 提示框\n    const tip = d3Tip()\n      .attr('class', 'd3-tip')\n      .offset([-5, 0])\n      .html(\n        (event, d) =>\n          `<table>\n                      <tr><td class=\"name\">Range</td><td>: [${d.x0.toFixed(2)}, ${d.x1.toFixed(\n            2\n          )})</td></tr><tr><td class=\"name\">Count</td><td>: ${d.length}</td></tr></table>`\n      )\n\n    this.svg.call(tip)\n    // 绘制条形\n    const barsG = g.append('g').attr('class', 'bars').attr('clip-path', 'url(#plot-clip)')\n\n    barsG\n      .selectAll('rect.bar')\n      .data(bins)\n      .join('rect')\n      .attr('class', 'bar')\n      .attr('x', d => xScale(d.x0))\n      .attr('y', d => yScale(d.length))\n      .attr('width', d => Math.max(0, xScale(d.x1) - xScale(d.x0)))\n      .attr('height', d => innerH - yScale(d.length))\n      .on('mouseover', tip.show)\n      .on('mouseout', tip.hide)\n      .attr('opacity', 1)\n\n    const selG = g.append('g').attr('class', 'bars-selected')\n\n    // 区间刷选\n    const brushBehavior = d3\n      .brush()\n      .extent([\n        [0, 0],\n        [innerW, innerH],\n      ])\n      .on('brush', event => {\n        const sel = event.selection\n        if (!sel) {\n          barsG.selectAll('rect.bar').classed('selected', false)\n          return\n        }\n        const x0 = sel[0][0]\n        const x1 = sel[1][0]\n        const selectedIds = df.filter(d => xScale(d._x) >= x0 && xScale(d._x) <= x1).map(d => d._id)\n        brushDispatcher.call('brush', null, selectedIds, this.chartID)\n      })\n      .on('end', event => {\n        if (event.selection !== null) {\n          brushG.call(d3.brush().move, null)\n        }\n      })\n\n    const rows = d3.selectAll('.table-div #data-table tbody tr')\n\n    // 节流为 50 ms 更新一次图像\n    const externalBrush = throttle(selectedIds => {\n        console.log(this.chartID)\n      rows.classed('selected', (_, i) => selectedIds.includes(i))\n      const newXValues = df.filter(d => selectedIds.includes(d._id)).map(d => d._x)\n      const newBins = d3\n        .bin()\n        .value(d => d)\n        .domain(xScale.domain())\n        .thresholds(thresholds)(newXValues)\n\n      selG\n        .selectAll('rect')\n        .data(newBins)\n        .join('rect')\n        .attr('class', 'bar-selected')\n        .attr('x', d => xScale(d.x0))\n        .attr('y', d => yScale(d.length))\n        .attr('width', d => Math.max(0, xScale(d.x1) - xScale(d.x0)))\n        .attr('height', d => innerH - yScale(d.length))\n    }, 50)\n    brushDispatcher.on('brush.' + this.chartID, externalBrush)\n    const brushG = g.append('g').attr('class', 'brush').call(brushBehavior)\n  }\n}\n","<template>\n  <div class=\"container\">\n    <div class=\"left-div\">\n      <aside class=\"sidebar\">\n        <h1>Graph Builder</h1>\n        <p style=\"padding: 10px 0\">Dataset: {{ datasetName }}</p>\n        <ul>\n          <li v-for=\"col in columnInfo\" :key=\"col.name\" draggable=\"true\" @dragstart=\"onDragStart($event, col.name)\"\n            class=\"col-item\">\n            <ChartNoAxesColumn v-if=\"col.isDiscrete\" :size=\"typeMarkerSize\" stroke-width=\"3\" stroke=\"#a52420\"\n              class=\"icon-continous\" />\n            <ChartNoAxesCombined v-else :size=\"typeMarkerSize\" stroke-width=\"2\" stroke=\"#4c4b99\"\n              class=\"icon-discrete\" />\n            <span>{{ col.name }}</span>\n          </li>\n        </ul>\n      </aside>\n    </div>\n    <div class=\"middle-div\">\n      <div id=\"chart-types\">\n        <ChartScatter :size=\"plotIconSize\" stroke-width=\"1.5\" :stroke=\"typeMarkerStroke\" class=\"chart-icon\"\n          @click=\"changeSelectedChart('scatter')\"\n          :class=\"['chart-icon', { 'chart-icon--active': selectedChart === 'scatter' }]\" />\n        <ChartColumn :size=\"plotIconSize\" stroke-width=\"1.5\" :stroke=\"typeMarkerStroke\" class=\"chart-icon\"\n          @click=\"changeSelectedChart('histogram')\"\n          :class=\"['chart-icon', { 'chart-icon--active': selectedChart === 'histogram' }]\" />\n        <ChartCandlestick :size=\"plotIconSize\" stroke-width=\"1.5\" :stroke=\"typeMarkerStroke\" class=\"chart-icon\"\n          @click=\"changeSelectedChart('box')\"\n          :class=\"['chart-icon', { 'chart-icon--active': selectedChart === 'box' }]\" />\n        <ChartLine :size=\"plotIconSize\" stroke-width=\"1.5\" :stroke=\"typeMarkerStroke\" class=\"chart-icon\"\n          @click=\"changeSelectedChart('line')\"\n          :class=\"['chart-icon', { 'chart-icon--active': selectedChart === 'line' }]\" />\n      </div>\n      <div id=\"plot-area\">\n        <svg ref=\"svg\" :width=\"outerW\" :height=\"outerH\" id=\"plot-svg\"></svg>\n        <table id=\"plot-matrix\"></table>\n        <div id=\"plot-configs\">\n          <div class=\"left-config\">\n            <div class=\"region region-Y\" :style=\"regionYStyle\" @dragover.prevent @dragenter=\"highlight($event)\"\n              @dragleave=\"unhighlight($event)\" @drop=\"handleDrop($event, 'Y')\">\n              <span class=\"rt rt-Y\">Y</span>\n            </div>\n          </div>\n          <div class=\"middle-config\">\n            <div class=\"chart-title\" :style=\"titleStyle\">\n              <h2 class=\"sup-title\"></h2>\n            </div>\n\n            <div class=\"region region-X\" :style=\"regionXStyle\" @dragover.prevent @dragenter=\"highlight($event)\"\n              @dragleave=\"unhighlight($event)\" @drop=\"handleDrop($event, 'X')\">\n              <span class=\"rt rt-X\">X</span>\n            </div>\n          </div>\n          <div class=\"right-config\">\n            <div class=\"region region-C\" :style=\"regionRightStyle\" @dragover.prevent @dragenter=\"highlight($event)\"\n              @dragleave=\"unhighlight($event)\" @drop=\"handleDrop($event, 'C')\">\n              <span class=\"rt rt-C\">Color</span>\n            </div>\n            <div class=\"region region-S\" :style=\"regionRightStyle\" @dragover.prevent @dragenter=\"highlight($event)\"\n              @dragleave=\"unhighlight($event)\" @drop=\"handleDrop($event, 'S')\">\n              <span class=\"rt rt-S\">Size</span>\n            </div>\n          </div>\n        </div>\n\n      </div>\n    </div>\n    <div class=\"table-div\">\n      <table id=\"data-table\">\n\n      </table>\n    </div>\n  </div>\n</template>\n\n<script setup>\n  import { ref, onMounted, watch, computed } from 'vue';\n  import * as d3 from 'd3';\n  import { ChartScatter, ChartLine, ChartColumn, ChartCandlestick, ChartNoAxesColumn, ChartNoAxesCombined } from 'lucide-vue-next';\n\n  import { isDiscrete, loadDataTable } from './utils/data.js'\n\n  import { initGraphBuilder } from '@/utils/chart.js';\n\n  import { calculateMaxBins } from '@/utils/tools.js'\n\n  import { ScatterPlot } from '@/utils/plotting/scatter.js'\n\n  import { HistogramPlot } from '@/utils/plotting/histogram.js'\n\n  /**\n   * 初始化参数\n   * @param data 原始数据数组\n   * @param innerW 绘图区域宽度\n   * @param innerH 绘图区域高度\n   * @param outerW 包括配置区域在内的宽度\n   * @param outerH 包括配置区域在内的高度\n   * @param s 配置区域的间隙大小\n   * @param widgetH 配置组件的宽度\n   * @param svg 配置白色背景板的 svg\n   */\n\n  const datasetName = \"explore.csv\";\n  const margin = { top: 50, right: 150, bottom: 60, left: 60 };\n  const innerW = 750;\n  const innerH = 750;\n  const outerW = innerW + margin.left + margin.right\n  const outerH = innerH + margin.top + margin.bottom\n  const s = 3\n  const widgetH = 50\n  const plotIconSize = 36\n  const typeMarkerSize = 28\n  const typeMarkerStroke = \"dimgrey\"\n\n  const columns = ref([]);\n  const data = ref([]);\n  const selectedChart = ref('scatter')\n  const xFields = ref([]);\n  const yFields = ref([]);\n  const cField = ref('');\n  const sField = ref('');\n  const svg = ref(null);\n  // const pl = ref(null)\n\n  let chartId = 0\n\n  onMounted(async () => {\n    const raw = await d3.csv('./dataset/explore_more.csv', d3.autoType);\n    // const raw = await d3.csv('./dataset/apple_cleaned.csv', d3.autoType);\n    // const raw = await d3.csv('./dataset/large_dataset.csv', d3.autoType);\n\n    data.value = raw;\n    columns.value = raw.columns || Object.keys(raw[0] || {});\n    initGraphBuilder(svg.value, innerW, innerH, outerW, outerH, margin)\n    loadDataTable(raw)\n    // pl.value = new PlotLauncher(svg.value, outerW, outerH, margin, 1)\n\n  });\n\n  function highlight(event) {\n    // 用 d3 设置 style 的优先级很高，推荐用 css class 来配置样式\n    d3.select(event.target).classed(\"region-hover\", true);\n  }\n\n  function unhighlight(event) {\n    d3.select(event.target).classed(\"region-hover\", false);\n  }\n\n  function handleDrop(event, name) {\n    const col = event.dataTransfer.getData(\"text/plain\");\n    if (name === \"X\") {\n      xFields.value.push(col);\n      d3.select(\".region-X\").classed(\"region-hidden\", true)\n    }\n    else if (name === \"Y\") {\n      yFields.value.push(col);\n      d3.select(\".region-Y\").classed(\"region-hidden\", true)\n    }\n    else if (name === \"C\") {\n      cField.value = col;\n      d3.select(\".rt-C\").text(`Color: ${col}`)\n    }\n    else if (name === \"S\") {\n      sField.value = col;\n      d3.select(\".rt-S\").text(`Size: ${col}`)\n    }\n\n    d3.select('.drag-hint').attr('display', 'none')\n    d3.select(event.target).classed(\"region-hover\", false);\n  }\n\n  // 监听字段变化，更新图表\n  watch([xFields, yFields, cField, sField, selectedChart], ([newX, newY, newC, newS, newChart], [oldX, oldY, oldC, oldS, oldChart]) => {\n    const cChanged = newC !== oldC\n    const sChanged = newS !== oldS\n\n    const xNum = Math.max(xFields.value.length, 1)\n    const yNum = Math.max(yFields.value.length, 1)\n    const subInnerW = innerW / xNum\n    const subInnerH = innerH / yNum\n\n    const plotMatrix = d3.select(\"#plot-matrix\")\n    plotMatrix.html('')\n\n    d3.selectAll('.d3-tip').remove()\n\n    let yMax\n    if (selectedChart.value == \"histogram\") {\n      yMax = calculateMaxBins(xFields.value, data, subInnerW)\n    }\n    for (let j = 0; j < yNum; j++) {\n      const row = plotMatrix.append('tr');\n      for (let i = 0; i < xNum; i++) {\n        // 每个单元格\n        const cell = row.append('td').style('padding', '0');\n        // 计算子图的 margin\n        const subMargin = {\n          top: 0,\n          left: i == 0 ? 60 : 0,\n          bottom: j == yNum - 1 ? 60 : 0,\n          right: 0\n        };\n\n        // 可见只在第一行／第一列显示坐标轴\n        const xAxisVis = j === yNum - 1;\n        const yAxisVis = i === 0;\n\n        // 根据选中的 chart 类型调用绘图\n        const fields = [xFields.value[i], yFields.value[j], cField.value, sField.value];\n        if (selectedChart.value === 'scatter') {\n          const pl = new ScatterPlot(\n            cell.node(),\n            subInnerW,\n            subInnerH,\n            subMargin,\n            chartId++,\n            xAxisVis,\n            yAxisVis\n          );\n          pl.draw(data.value, fields);\n        } else {\n          const pl = new HistogramPlot(\n            cell.node(),\n            subInnerW,\n            subInnerH,\n            subMargin,\n            chartId++,\n            xAxisVis,\n            yAxisVis\n          );\n          pl.draw(data.value, [xFields.value[i]], yMax);\n        }\n      }\n    }\n  }, { deep: true });\n\n  function onDragStart(event, col) {\n    event.dataTransfer.setData('text/plain', col);\n  }\n\n  function changeSelectedChart(type) {\n    selectedChart.value = type\n  }\n\n  const columnInfo = computed(() => columns.value.map((name) => {\n    const arr = data.value.map(d => d[name])\n    return {\n      name: name,\n      isDiscrete: isDiscrete(arr)\n    }\n  })\n  )\n  const regionYStyle = computed(() => ({\n    margin: s + 'px',\n    marginTop: margin.top + s + 'px',\n    width: margin.left - 2 * s + 'px',\n    height: innerH - 2 * s + 'px'\n  }))\n\n  const regionXStyle = computed(() => ({\n    margin: s + 'px',\n    width: innerW - 2 * s + 'px',\n    height: margin.bottom - 2 * s + 'px',\n  }))\n\n  const titleStyle = computed(() => ({\n    height: margin.top + 'px',\n    width: innerW + 'px',\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    // 把 region-X 往下顶\n    marginBottom: innerH + s + 'px'\n  }))\n\n  const regionRightStyle = computed(() => ({\n    height: widgetH + 'px',\n    width: margin.right + 'px',\n    margin: s + 'px',\n  }))\n\n  const regionHintStyle = computed(() => ({\n    backgroundColor: \"white\",\n    height: innerH + 'px',\n    width: innerW + 'px',\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  }))\n</script>\n\n<style>\n\n  * {\n    padding: 0;\n    margin: 0;\n  }\n\n  html,\n  body,\n  #app {\n    height: 100%;\n    margin: 0;\n  }\n\n  .container {\n    display: flex;\n    font-family: Arial;\n    height: 100%;\n    overflow: hidden;\n  }\n\n  h1 {\n    padding-bottom: 10px;\n    background: linear-gradient(90deg, #5C6BC0, #EF5350);\n    background-clip: text;\n    -webkit-text-fill-color: transparent;\n    text-shadow: 3px 3px 2px rgba(0, 0, 0, 0.1);\n  }\n\n  .left-div {\n    box-shadow: 10px 0 10px rgba(0, 0, 0, 0.05);\n    z-index: 1;\n  }\n\n  .sidebar {\n    /* 这样窗口缩小元素也不会小 */\n    min-width: 180px;\n    flex: 0 0 10%;\n    /* border-right: 1px solid #ccc; */\n    padding: 10px;\n    height: 100%;\n    background-color: white;\n    resize: both;\n  }\n\n  .sidebar ul {\n    list-style: none;\n    padding: 0;\n  }\n\n  .sidebar li {\n    display: flex;\n    padding: 4px;\n    margin: 4px 0;\n    background: #f5f5f5;\n    cursor: grab;\n    /* text-align: center; */\n    align-items: center;\n    gap: 10px;\n    border-radius: 10px;\n    transition: background-color 0.5s ease;\n  }\n\n  .sidebar li:hover {\n    background-color: white;\n  }\n\n  .sidebar li span {\n    flex: 1;\n    min-width: 0;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n\n  .chart-icon {\n    transition:\n      stroke 0.5s ease,\n      stroke-width 0.5s ease;\n\n  }\n\n  .chart-icon:hover {\n    stroke: #333;\n    stroke-width: 2;\n    cursor: pointer;\n    background-color: white;\n  }\n\n  .chart-icon--active {\n    stroke: #333;\n    stroke-width: 2;\n    background-color: white;\n  }\n\n  .middle-div {\n    /* flex: 1; */\n    padding: 10px 40px;\n    background-color: #f5f5f5;\n    min-width: 1000px;\n    flex: 0 0 50%;\n  }\n\n  #plot-area {\n    position: relative;\n  }\n\n  /* plot-config & plot-svg 使用绝对定位 这样他们会重叠 */\n  #plot-configs {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: flex;\n    pointer-events: none;\n  }\n\n  #plot-svg {\n    position: absolute;\n    top: 0;\n    left: 0;\n  }\n\n  .region {\n    box-sizing: border-box;\n    background-color: transparent;\n    border: 1.5px solid rgba(0, 0, 0, 0.2);\n    border-radius: 5px;\n    display: flex;\n    /* 文本居中用 */\n    align-items: center;\n    justify-content: center;\n    pointer-events: auto;\n\n  }\n\n  .region-hover {\n    background-color: #ccc;\n    border: 1.5px solid rgba(0, 0, 0, 0.2) !important;\n  }\n\n  .region-hidden {\n    border: none;\n    background-color: transparent;\n  }\n\n  .region-hidden span {\n    visibility: hidden;\n  }\n\n  .rt {\n    font-size: 18px;\n    font-weight: bold;\n    opacity: 0.2;\n    pointer-events: none;\n    /* 让拖拽事件透过文字生效 */\n    user-select: none;\n  }\n\n  .drag-hint {\n    font-size: 32px;\n    font-weight: bold;\n    opacity: 0.2;\n  }\n\n  h2.sup-title {\n    color: #333;\n    font-size: 20px;\n    font-weight: bold;\n  }\n\n  .border-line {\n    stroke-width: 1;\n    stroke: #ccc;\n  }\n\n  #plot-matrix {\n    transform: translate(0, 50px);\n    border-collapse: collapse;\n  }\n\n  #plot-matrix svg {\n    display: block;\n  }\n\n  .d3-tip {\n    background-color: white;\n    padding: 10px;\n    border-radius: 10px;\n    box-shadow: 5px 5px 10px -5px grey;\n    font-size: 14px;\n  }\n\n  .d3-tip td.name {\n    font-weight: bold;\n    text-align: right;\n  }\n\n  .brush .selection {\n    fill: none;\n    stroke: #333;\n    stroke-width: 1\n  }\n\n  circle.point.unselected {\n    opacity: 0.1;\n  }\n\n  circle.point.selected {\n    opacity: 1;\n  }\n\n  #hist-stripes rect {\n    fill: #7986CB;\n  }\n\n  #hist-stripes line {\n    stroke: #5C6BC0;\n    stroke-width: 2\n  }\n\n  .bar {\n    fill: #dde0f0;\n    stroke: #333;\n  }\n\n  .bar-selected {\n    fill: url(#hist-stripes);\n    stroke: #333;\n  }\n\n  .table-div {\n    flex: 1;\n    /* 等价于 flex: 1 1 0 */\n    min-width: 400px;\n    background: #fff;\n    overflow: auto;\n    box-shadow: -10px 0 10px rgba(0, 0, 0, 0.05);\n    z-index: 1;\n  }\n\n  #data-table {\n    border-collapse: collapse;\n    margin: 0;\n    /* 原来只有 margin-left:0 */\n    max-height: 100vh;\n  }\n\n  /* 表头 & 单元格 基础样式 */\n  #data-table th,\n  #data-table td {\n    padding: 9px;\n    text-align: center;\n    border-bottom: 1px solid #ccc;\n    white-space: nowrap;\n    /* transition: background-color .1s ease, color .1s ease; */\n  }\n\n  /* 表头单独样式 */\n  #data-table th {\n    background: #f5f5f5;\n    border: none;\n  }\n\n  /* 固定首列 & 表头 */\n  #data-table th:first-child,\n  #data-table td:first-child {\n    position: sticky;\n    left: 0;\n    background: #f5f5f5;\n    color: #333;\n    z-index: 1;\n    font-weight: bold;\n  }\n\n  /* 固定表头 */\n  #data-table thead {\n    position: sticky;\n    top: 0;\n    z-index: 2;\n  }\n\n  /* 鼠标悬停高亮 */\n  #data-table tr:hover td {\n    background: #ccc;\n    color: #333;\n  }\n\n  /* 选中行高亮 */\n  #data-table tr.selected td {\n    background: #7986CB;\n    color: #fff;\n  }\n\n  #data-table tr.selected th:first-child,\n  #data-table tr.selected td:first-child {\n    background-color: #5C6BC0;\n  }\n</style>\n","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=749074a4&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkgraph_builder\"] = self[\"webpackChunkgraph_builder\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(9999); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["getMaxOverlapFromMap","offsetMap","maxCount","Object","values","forEach","yGroups","group","Math","max","length","calculateDomain","extent","padding","range","calculateMaxBins","allXFields","data","innerW","yMax","field","value","map","d","xDomain","d3","xScale","domain","thresholds","ticks","binGenerator","bins","maxBinCount","isDiscrete","arr","vals","filter","v","every","isNaN","DataFrame","constructor","fields","radius","innerH","this","xField","yField","cField","sField","originData","width","height","plotData","preprocessData","xRaw","yRaw","cRaw","sRaw","colorScale","sizeScale","xIsDis","yIsDis","cIsDis","sIsDis","xCategories","Array","from","Set","String","yCategories","categories","cCategories","makeEncoder","Map","key","has","set","size","get","encodeX","encodeY","i","_id","_x","_y","_color","_size","x","y","color","getRange","axis","xVals","yVals","addOffset","push","maxCircleInterval","newRadius","min","_offset","floor","xGroups","loadDataTable","rawData","table","keys","columns","append","selectAll","join","text","tbody","rows","attr","k","brushDispatcher","initGraphBuilder","container","outerW","outerH","margin","gbSVG","left","top","stripedens","pattern","PlotLauncher","chartID","xAxisVis","yAxisVis","right","bottom","svg","plotContent","yScale","ScatterPlot","super","draw","scales","tip","getTips","g","DF","supTitle","nice","newXScale","newYScale","xAxisG","select","yAxisG","xTicks","slice","xAxis","tickValues","_","tickFormat","call","xlabel","yTicks","yAxis","ylabel","externalBrush","selectedIds","circles","classed","includes","on","brushBehavior","selection","gCircles","x0","y0","x1","y1","each","cx","cy","event","brushG","move","lower","empty","enter","update","show","hide","d3Tip","offset","html","hoverToolTips","HistogramPlot","histTitle","df","xValues","binGen","toFixed","barsG","selG","sel","throttle","console","log","newXValues","newBins","datasetName","s","widgetH","plotIconSize","typeMarkerSize","typeMarkerStroke","ref","selectedChart","xFields","yFields","chartId","highlight","target","unhighlight","handleDrop","name","col","dataTransfer","getData","onDragStart","setData","changeSelectedChart","type","onMounted","async","raw","watch","newX","newY","newC","newS","newChart","oldX","oldY","oldC","oldS","oldChart","xNum","yNum","subInnerW","subInnerH","plotMatrix","remove","j","row","cell","style","subMargin","pl","node","deep","columnInfo","computed","regionYStyle","marginTop","regionXStyle","titleStyle","display","justifyContent","alignItems","marginBottom","regionRightStyle","backgroundColor","__exports__","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","splice","r","n","getter","__esModule","a","definition","o","defineProperty","enumerable","globalThis","Function","e","window","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}